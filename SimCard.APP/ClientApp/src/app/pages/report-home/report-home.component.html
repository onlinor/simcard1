<div class="container-fluid">
  <div class="row">
    <div class="col-12">
      <div class="filter-header">
        <div class="row">
          <div class="col-12">
            <p></p>
            <span class="float-left">
              <label style="margin-right: 10px;">Chọn báo cáo</label>
              <p-dropdown [options]="supportedReportTypes" (onChange)="getReport()" [(ngModel)]="selectedReport" [group]="true"></p-dropdown>
            </span>
            <span class="float-right">
              <label style="margin-right: 10px;">Xuất file</label>
              <p-dropdown [options]="supportedExportMethods" (onChange)="export()" [(ngModel)]="selectedExportMethod"></p-dropdown>
              <button pButton style="margin-left: 5px;" type="button" icon="pi pi-print" class="ui-button-secondary"></button>
            </span>
          </div>
        </div>
        <hr>
        <div class="row">
          <div class="col-3">
            <p-calendar [(ngModel)]="selectedFilterValue.from" placeholder="Từ ngày"></p-calendar>
          </div>
          <div class="col-3">
            <p-calendar [(ngModel)]="selectedFilterValue.to" placeholder="Đến ngày"></p-calendar>
          </div>
          <div class="col-3" *ngIf="supportedFilterList.shops == true">
              <label style="margin-right: 10px;">Chi nhánh</label>
            <p-dropdown [options]="shops" [(ngModel)]="selectedFilterValue.shop" placeholder="Chi nhánh"></p-dropdown>
          </div>
          <div class="col-3" *ngIf="supportedFilterList.products == true">
              <label style="margin-right: 10px;">Sản phẩm</label>
            <p-dropdown [options]="products" [(ngModel)]="selectedFilterValue.product" placeholder="Sản phẩm"></p-dropdown>
          </div>
        </div>
        <p></p>
        <div class="row">
            <div class="col-3" *ngIf="supportedFilterList.warehouses == true">
                <label style="margin-right: 10px;">Kho</label>
                <p-dropdown [options]="warehouses" [(ngModel)]="selectedFilterValue.warehouse" placeholder="Kho"></p-dropdown>
            </div>
            <div class="col-3" *ngIf="supportedFilterList.customers == true">
                <label style="margin-right: 10px;">Khách hàng</label>
                <p-dropdown [options]="customers" [(ngModel)]="selectedFilterValue.customer" placeholder="Khách hàng"></p-dropdown>
            </div>
            <div class="col-3" *ngIf="supportedFilterList.bankAccounts == true">
                <label style="margin-right: 10px;">Tài khoản NH</label>
                <p-dropdown [options]="bankAccounts" [(ngModel)]="selectedFilterValue.bankAccount" placeholder="Tài khoản NH"></p-dropdown>
            </div>
          <div class="col-3">
            <button class="ui-button-info mr-2" pButton type="button" label="Lọc" (click)="filter()" icon="pi pi-check" iconPos="left"></button>
            <button class="ui-button-danger" pButton type="button" label="Xoá bộ lọc" (click)="clearFilter()" icon="pi pi-times" iconPos="left"></button>
          </div>
        </div>
      </div>
      <hr>
      <p-table [value]="reportData">
        <ng-template pTemplate="header">
          <tr>
            <th *ngFor="let column of reportColumns">{{ column.header }}</th>
          </tr>
          <tr class="text-center" *ngIf="reportColumns.length === 0">
            <th>NO DATA</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-line>
          <tr>
            <td *ngFor="let column of reportColumns">
              {{ line[column.field] }}
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
</div>